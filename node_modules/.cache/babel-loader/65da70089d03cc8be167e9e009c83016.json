{"ast":null,"code":"export default class Frame {\n  constructor(_ref) {\n    let {\n      name,\n      id = 0,\n      size = 0,\n      transmitters = [],\n      extended = 0,\n      comment = null,\n      signals = {}\n    } = _ref;\n    Object.assign(this, {\n      name,\n      id,\n      size,\n      transmitters,\n      extended,\n      comment,\n      signals\n    });\n  }\n\n  nextNewTransmitterName() {\n    let txNum = 1;\n    let txName;\n\n    do {\n      txName = `NEW_TRANSMITTER_${txNum}`;\n      txNum++;\n    } while (this.transmitters.indexOf(txName) !== -1);\n\n    return txName;\n  }\n\n  addTransmitter() {\n    const txName = this.nextNewTransmitterName();\n    this.transmitters.push(txName);\n    return txName;\n  }\n\n  header() {\n    return `BO_ ${this.id} ${this.name}: ${this.size} ` + `${this.transmitters[0] || 'XXX'}`;\n  }\n\n  text() {\n    const signals = Object.values(this.signals).map(signal => ` ${signal.text()}`) // indent\n    .join('\\n');\n\n    if (signals.length > 0) {\n      return `${this.header()}\\n${signals}`;\n    }\n\n    return this.header();\n  }\n\n  copy() {\n    const copy = Object.assign(Object.create(this), this);\n    return copy;\n  }\n\n}","map":{"version":3,"sources":["/home/amax/Autoro/cabana/src/models/can/frame.js"],"names":["Frame","constructor","name","id","size","transmitters","extended","comment","signals","Object","assign","nextNewTransmitterName","txNum","txName","indexOf","addTransmitter","push","header","text","values","map","signal","join","length","copy","create"],"mappings":"AAAA,eAAe,MAAMA,KAAN,CAAY;AACzBC,EAAAA,WAAW,OAQR;AAAA,QARS;AACVC,MAAAA,IADU;AAEVC,MAAAA,EAAE,GAAG,CAFK;AAGVC,MAAAA,IAAI,GAAG,CAHG;AAIVC,MAAAA,YAAY,GAAG,EAJL;AAKVC,MAAAA,QAAQ,GAAG,CALD;AAMVC,MAAAA,OAAO,GAAG,IANA;AAOVC,MAAAA,OAAO,GAAG;AAPA,KAQT;AACDC,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoB;AAClBR,MAAAA,IADkB;AAElBC,MAAAA,EAFkB;AAGlBC,MAAAA,IAHkB;AAIlBC,MAAAA,YAJkB;AAKlBC,MAAAA,QALkB;AAMlBC,MAAAA,OANkB;AAOlBC,MAAAA;AAPkB,KAApB;AASD;;AAEDG,EAAAA,sBAAsB,GAAG;AACvB,QAAIC,KAAK,GAAG,CAAZ;AACA,QAAIC,MAAJ;;AACA,OAAG;AACDA,MAAAA,MAAM,GAAI,mBAAkBD,KAAM,EAAlC;AACAA,MAAAA,KAAK;AACN,KAHD,QAGS,KAAKP,YAAL,CAAkBS,OAAlB,CAA0BD,MAA1B,MAAsC,CAAC,CAHhD;;AAKA,WAAOA,MAAP;AACD;;AAEDE,EAAAA,cAAc,GAAG;AACf,UAAMF,MAAM,GAAG,KAAKF,sBAAL,EAAf;AACA,SAAKN,YAAL,CAAkBW,IAAlB,CAAuBH,MAAvB;AACA,WAAOA,MAAP;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACP,WACG,OAAM,KAAKd,EAAG,IAAG,KAAKD,IAAK,KAAI,KAAKE,IAAK,GAA1C,GACG,GAAE,KAAKC,YAAL,CAAkB,CAAlB,KAAwB,KAAM,EAFrC;AAID;;AAEDa,EAAAA,IAAI,GAAG;AACL,UAAMV,OAAO,GAAGC,MAAM,CAACU,MAAP,CAAc,KAAKX,OAAnB,EACbY,GADa,CACRC,MAAD,IAAa,IAAGA,MAAM,CAACH,IAAP,EAAc,EADrB,EACwB;AADxB,KAEbI,IAFa,CAER,IAFQ,CAAhB;;AAIA,QAAId,OAAO,CAACe,MAAR,GAAiB,CAArB,EAAwB;AACtB,aAAQ,GAAE,KAAKN,MAAL,EAAc,KAAIT,OAAQ,EAApC;AACD;;AACD,WAAO,KAAKS,MAAL,EAAP;AACD;;AAEDO,EAAAA,IAAI,GAAG;AACL,UAAMA,IAAI,GAAGf,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACgB,MAAP,CAAc,IAAd,CAAd,EAAmC,IAAnC,CAAb;AAEA,WAAOD,IAAP;AACD;;AA5DwB","sourcesContent":["export default class Frame {\n  constructor({\n    name,\n    id = 0,\n    size = 0,\n    transmitters = [],\n    extended = 0,\n    comment = null,\n    signals = {}\n  }) {\n    Object.assign(this, {\n      name,\n      id,\n      size,\n      transmitters,\n      extended,\n      comment,\n      signals\n    });\n  }\n\n  nextNewTransmitterName() {\n    let txNum = 1;\n    let txName;\n    do {\n      txName = `NEW_TRANSMITTER_${txNum}`;\n      txNum++;\n    } while (this.transmitters.indexOf(txName) !== -1);\n\n    return txName;\n  }\n\n  addTransmitter() {\n    const txName = this.nextNewTransmitterName();\n    this.transmitters.push(txName);\n    return txName;\n  }\n\n  header() {\n    return (\n      `BO_ ${this.id} ${this.name}: ${this.size} `\n      + `${this.transmitters[0] || 'XXX'}`\n    );\n  }\n\n  text() {\n    const signals = Object.values(this.signals)\n      .map((signal) => ` ${signal.text()}`) // indent\n      .join('\\n');\n\n    if (signals.length > 0) {\n      return `${this.header()}\\n${signals}`;\n    }\n    return this.header();\n  }\n\n  copy() {\n    const copy = Object.assign(Object.create(this), this);\n\n    return copy;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}