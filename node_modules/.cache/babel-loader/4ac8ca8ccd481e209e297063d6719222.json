{"ast":null,"code":"var closest = require('./closest');\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\n\n\nfunction _delegate(element, selector, type, callback, useCapture) {\n  var listenerFn = listener.apply(this, arguments);\n  element.addEventListener(type, listenerFn, useCapture);\n  return {\n    destroy: function () {\n      element.removeEventListener(type, listenerFn, useCapture);\n    }\n  };\n}\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\n\n\nfunction delegate(elements, selector, type, callback, useCapture) {\n  // Handle the regular Element usage\n  if (typeof elements.addEventListener === 'function') {\n    return _delegate.apply(null, arguments);\n  } // Handle Element-less usage, it defaults to global delegation\n\n\n  if (typeof type === 'function') {\n    // Use `document` as the first parameter, then apply arguments\n    // This is a short way to .unshift `arguments` without running into deoptimizations\n    return _delegate.bind(null, document).apply(null, arguments);\n  } // Handle Selector-based usage\n\n\n  if (typeof elements === 'string') {\n    elements = document.querySelectorAll(elements);\n  } // Handle Array-like based usage\n\n\n  return Array.prototype.map.call(elements, function (element) {\n    return _delegate(element, selector, type, callback, useCapture);\n  });\n}\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\n\n\nfunction listener(element, selector, type, callback) {\n  return function (e) {\n    e.delegateTarget = closest(e.target, selector);\n\n    if (e.delegateTarget) {\n      callback.call(element, e);\n    }\n  };\n}\n\nmodule.exports = delegate;","map":{"version":3,"sources":["/home/amax/Autoro/cabana/node_modules/delegate/src/delegate.js"],"names":["closest","require","_delegate","element","selector","type","callback","useCapture","listenerFn","listener","apply","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","prototype","map","call","e","delegateTarget","target","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAArB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,SAAT,CAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,IAAtC,EAA4CC,QAA5C,EAAsDC,UAAtD,EAAkE;AAC9D,MAAIC,UAAU,GAAGC,QAAQ,CAACC,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAjB;AAEAR,EAAAA,OAAO,CAACS,gBAAR,CAAyBP,IAAzB,EAA+BG,UAA/B,EAA2CD,UAA3C;AAEA,SAAO;AACHM,IAAAA,OAAO,EAAE,YAAW;AAChBV,MAAAA,OAAO,CAACW,mBAAR,CAA4BT,IAA5B,EAAkCG,UAAlC,EAA8CD,UAA9C;AACH;AAHE,GAAP;AAKH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASQ,QAAT,CAAkBC,QAAlB,EAA4BZ,QAA5B,EAAsCC,IAAtC,EAA4CC,QAA5C,EAAsDC,UAAtD,EAAkE;AAC9D;AACA,MAAI,OAAOS,QAAQ,CAACJ,gBAAhB,KAAqC,UAAzC,EAAqD;AACjD,WAAOV,SAAS,CAACQ,KAAV,CAAgB,IAAhB,EAAsBC,SAAtB,CAAP;AACH,GAJ6D,CAM9D;;;AACA,MAAI,OAAON,IAAP,KAAgB,UAApB,EAAgC;AAC5B;AACA;AACA,WAAOH,SAAS,CAACe,IAAV,CAAe,IAAf,EAAqBC,QAArB,EAA+BR,KAA/B,CAAqC,IAArC,EAA2CC,SAA3C,CAAP;AACH,GAX6D,CAa9D;;;AACA,MAAI,OAAOK,QAAP,KAAoB,QAAxB,EAAkC;AAC9BA,IAAAA,QAAQ,GAAGE,QAAQ,CAACC,gBAAT,CAA0BH,QAA1B,CAAX;AACH,GAhB6D,CAkB9D;;;AACA,SAAOI,KAAK,CAACC,SAAN,CAAgBC,GAAhB,CAAoBC,IAApB,CAAyBP,QAAzB,EAAmC,UAAUb,OAAV,EAAmB;AACzD,WAAOD,SAAS,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA0BC,QAA1B,EAAoCC,UAApC,CAAhB;AACH,GAFM,CAAP;AAGH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,QAAT,CAAkBN,OAAlB,EAA2BC,QAA3B,EAAqCC,IAArC,EAA2CC,QAA3C,EAAqD;AACjD,SAAO,UAASkB,CAAT,EAAY;AACfA,IAAAA,CAAC,CAACC,cAAF,GAAmBzB,OAAO,CAACwB,CAAC,CAACE,MAAH,EAAWtB,QAAX,CAA1B;;AAEA,QAAIoB,CAAC,CAACC,cAAN,EAAsB;AAClBnB,MAAAA,QAAQ,CAACiB,IAAT,CAAcpB,OAAd,EAAuBqB,CAAvB;AACH;AACJ,GAND;AAOH;;AAEDG,MAAM,CAACC,OAAP,GAAiBb,QAAjB","sourcesContent":["var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n"]},"metadata":{},"sourceType":"script"}