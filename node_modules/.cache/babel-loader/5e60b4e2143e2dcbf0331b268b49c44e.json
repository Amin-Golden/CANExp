{"ast":null,"code":"'use strict';\n/* @flow */\n\nvar mean = require('./mean');\n/**\n * [Kurtosis](http://en.wikipedia.org/wiki/Kurtosis) is\n * a measure of the heaviness of a distribution's tails relative to its\n * variance. The kurtosis value can be positive or negative, or even undefined.\n *\n * Implementation is based on Fisher's excess kurtosis definition and uses \n * unbiased moment estimators. This is the version found in Excel and available \n * in several statistical packages, including SAS and SciPy.\n *\n * @param {Array<number>} x a sample of 4 or more data points\n * @returns {number} sample kurtosis\n * @throws {Error} if x has length less than 4\n * @example\n * sampleKurtosis([1, 2, 2, 3, 5]); // => 1.4555765595463122\n */\n\n\nfunction sampleKurtosis(x\n/*: Array<number> */\n)\n/*:number*/\n{\n  var n = x.length;\n\n  if (n < 4) {\n    throw new Error('sampleKurtosis requires at least four data points');\n  }\n\n  var meanValue = mean(x);\n  var tempValue;\n  var secondCentralMoment = 0;\n  var fourthCentralMoment = 0;\n\n  for (var i = 0; i < n; i++) {\n    tempValue = x[i] - meanValue;\n    secondCentralMoment += tempValue * tempValue;\n    fourthCentralMoment += tempValue * tempValue * tempValue * tempValue;\n  }\n\n  return (n - 1) / ((n - 2) * (n - 3)) * (n * (n + 1) * fourthCentralMoment / (secondCentralMoment * secondCentralMoment) - 3 * (n - 1));\n}\n\nmodule.exports = sampleKurtosis;","map":{"version":3,"sources":["/home/amax/Autoro/cabana/node_modules/simple-statistics/src/sample_kurtosis.js"],"names":["mean","require","sampleKurtosis","x","n","length","Error","meanValue","tempValue","secondCentralMoment","fourthCentralMoment","i","module","exports"],"mappings":"AAAA;AACA;;AAEA,IAAIA,IAAI,GAAGC,OAAO,CAAC,QAAD,CAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,cAAT,CAAwBC;AAAE;AAA1B;AAA+C;AAAY;AAEvD,MAAIC,CAAC,GAAGD,CAAC,CAACE,MAAV;;AAEA,MAAID,CAAC,GAAG,CAAR,EAAW;AACP,UAAM,IAAIE,KAAJ,CAAU,mDAAV,CAAN;AACH;;AAED,MAAIC,SAAS,GAAGP,IAAI,CAACG,CAAD,CAApB;AACA,MAAIK,SAAJ;AACA,MAAIC,mBAAmB,GAAG,CAA1B;AACA,MAAIC,mBAAmB,GAAG,CAA1B;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,CAApB,EAAuBO,CAAC,EAAxB,EAA4B;AACxBH,IAAAA,SAAS,GAAGL,CAAC,CAACQ,CAAD,CAAD,GAAOJ,SAAnB;AACAE,IAAAA,mBAAmB,IAAID,SAAS,GAAGA,SAAnC;AACAE,IAAAA,mBAAmB,IAAIF,SAAS,GAAGA,SAAZ,GAAwBA,SAAxB,GAAoCA,SAA3D;AACH;;AAED,SAAO,CAACJ,CAAC,GAAG,CAAL,KAAW,CAACA,CAAC,GAAG,CAAL,KAAWA,CAAC,GAAG,CAAf,CAAX,KACFA,CAAC,IAAIA,CAAC,GAAG,CAAR,CAAD,GAAcM,mBAAd,IAAqCD,mBAAmB,GAAGA,mBAA3D,IAAkF,KAAKL,CAAC,GAAG,CAAT,CADhF,CAAP;AAEH;;AAEDQ,MAAM,CAACC,OAAP,GAAiBX,cAAjB","sourcesContent":["'use strict';\n/* @flow */\n\nvar mean = require('./mean');\n\n/**\n * [Kurtosis](http://en.wikipedia.org/wiki/Kurtosis) is\n * a measure of the heaviness of a distribution's tails relative to its\n * variance. The kurtosis value can be positive or negative, or even undefined.\n *\n * Implementation is based on Fisher's excess kurtosis definition and uses \n * unbiased moment estimators. This is the version found in Excel and available \n * in several statistical packages, including SAS and SciPy.\n *\n * @param {Array<number>} x a sample of 4 or more data points\n * @returns {number} sample kurtosis\n * @throws {Error} if x has length less than 4\n * @example\n * sampleKurtosis([1, 2, 2, 3, 5]); // => 1.4555765595463122\n */\nfunction sampleKurtosis(x /*: Array<number> */)/*:number*/ {\n\n    var n = x.length;\n\n    if (n < 4) {\n        throw new Error('sampleKurtosis requires at least four data points');\n    }\n\n    var meanValue = mean(x);\n    var tempValue;\n    var secondCentralMoment = 0;\n    var fourthCentralMoment = 0;\n\n    for (var i = 0; i < n; i++) {\n        tempValue = x[i] - meanValue;\n        secondCentralMoment += tempValue * tempValue;\n        fourthCentralMoment += tempValue * tempValue * tempValue * tempValue;\n    }\n\n    return (n - 1) / ((n - 2) * (n - 3)) * \n        (n * (n + 1) * fourthCentralMoment / (secondCentralMoment * secondCentralMoment) - 3 * (n - 1));\n}\n\nmodule.exports = sampleKurtosis;\n"]},"metadata":{},"sourceType":"script"}