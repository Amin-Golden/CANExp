{"ast":null,"code":"(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['module', 'select'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(module, require('select'));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod, global.select);\n    global.clipboardAction = mod.exports;\n  }\n})(this, function (module, _select) {\n  'use strict';\n\n  var _select2 = _interopRequireDefault(_select);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  };\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var ClipboardAction = function () {\n    /**\n     * @param {Object} options\n     */\n    function ClipboardAction(options) {\n      _classCallCheck(this, ClipboardAction);\n\n      this.resolveOptions(options);\n      this.initSelection();\n    }\n    /**\n     * Defines base properties passed from constructor.\n     * @param {Object} options\n     */\n\n\n    _createClass(ClipboardAction, [{\n      key: 'resolveOptions',\n      value: function resolveOptions() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        this.action = options.action;\n        this.container = options.container;\n        this.emitter = options.emitter;\n        this.target = options.target;\n        this.text = options.text;\n        this.trigger = options.trigger;\n        this.selectedText = '';\n      }\n    }, {\n      key: 'initSelection',\n      value: function initSelection() {\n        if (this.text) {\n          this.selectFake();\n        } else if (this.target) {\n          this.selectTarget();\n        }\n      }\n    }, {\n      key: 'selectFake',\n      value: function selectFake() {\n        var _this = this;\n\n        var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n        this.removeFake();\n\n        this.fakeHandlerCallback = function () {\n          return _this.removeFake();\n        };\n\n        this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n        this.fakeElem = document.createElement('textarea'); // Prevent zooming on iOS\n\n        this.fakeElem.style.fontSize = '12pt'; // Reset box model\n\n        this.fakeElem.style.border = '0';\n        this.fakeElem.style.padding = '0';\n        this.fakeElem.style.margin = '0'; // Move element out of screen horizontally\n\n        this.fakeElem.style.position = 'absolute';\n        this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n        var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n        this.fakeElem.style.top = yPosition + 'px';\n        this.fakeElem.setAttribute('readonly', '');\n        this.fakeElem.value = this.text;\n        this.container.appendChild(this.fakeElem);\n        this.selectedText = (0, _select2.default)(this.fakeElem);\n        this.copyText();\n      }\n    }, {\n      key: 'removeFake',\n      value: function removeFake() {\n        if (this.fakeHandler) {\n          this.container.removeEventListener('click', this.fakeHandlerCallback);\n          this.fakeHandler = null;\n          this.fakeHandlerCallback = null;\n        }\n\n        if (this.fakeElem) {\n          this.container.removeChild(this.fakeElem);\n          this.fakeElem = null;\n        }\n      }\n    }, {\n      key: 'selectTarget',\n      value: function selectTarget() {\n        this.selectedText = (0, _select2.default)(this.target);\n        this.copyText();\n      }\n    }, {\n      key: 'copyText',\n      value: function copyText() {\n        var succeeded = void 0;\n\n        try {\n          succeeded = document.execCommand(this.action);\n        } catch (err) {\n          succeeded = false;\n        }\n\n        this.handleResult(succeeded);\n      }\n    }, {\n      key: 'handleResult',\n      value: function handleResult(succeeded) {\n        this.emitter.emit(succeeded ? 'success' : 'error', {\n          action: this.action,\n          text: this.selectedText,\n          trigger: this.trigger,\n          clearSelection: this.clearSelection.bind(this)\n        });\n      }\n    }, {\n      key: 'clearSelection',\n      value: function clearSelection() {\n        if (this.trigger) {\n          this.trigger.focus();\n        }\n\n        window.getSelection().removeAllRanges();\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        this.removeFake();\n      }\n    }, {\n      key: 'action',\n      set: function set() {\n        var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n        this._action = action;\n\n        if (this._action !== 'copy' && this._action !== 'cut') {\n          throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n        }\n      },\n      get: function get() {\n        return this._action;\n      }\n    }, {\n      key: 'target',\n      set: function set(target) {\n        if (target !== undefined) {\n          if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n            if (this.action === 'copy' && target.hasAttribute('disabled')) {\n              throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n            }\n\n            if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n              throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n            }\n\n            this._target = target;\n          } else {\n            throw new Error('Invalid \"target\" value, use a valid Element');\n          }\n        }\n      },\n      get: function get() {\n        return this._target;\n      }\n    }]);\n\n    return ClipboardAction;\n  }();\n\n  module.exports = ClipboardAction;\n});","map":{"version":3,"sources":["/home/amax/Autoro/cabana/node_modules/clipboard/lib/clipboard-action.js"],"names":["global","factory","define","amd","exports","module","require","mod","select","clipboardAction","_select","_select2","_interopRequireDefault","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","ClipboardAction","options","resolveOptions","initSelection","value","arguments","undefined","action","container","emitter","text","trigger","selectedText","selectFake","selectTarget","_this","isRTL","document","documentElement","getAttribute","removeFake","fakeHandlerCallback","fakeHandler","addEventListener","fakeElem","createElement","style","fontSize","border","padding","margin","position","yPosition","window","pageYOffset","scrollTop","top","setAttribute","appendChild","copyText","removeEventListener","removeChild","succeeded","execCommand","err","handleResult","emit","clearSelection","bind","focus","getSelection","removeAllRanges","destroy","set","_action","Error","get","nodeType","hasAttribute","_target"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', 'select'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});"]},"metadata":{},"sourceType":"script"}