{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.config = exports.storage = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2); // seed cache\n\n\nvar init = function () {\n  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n    var token;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return storage.getCommaAccessToken();\n\n          case 2:\n            token = _context.sent;\n            return _context.abrupt('return', token);\n\n          case 4:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function init() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar logOut = function () {\n  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return storage.logOut();\n\n          case 2:\n            if (typeof window !== 'undefined') {\n              window.location.href = window.location.origin;\n            }\n\n          case 3:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function logOut() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar _storage = require('./storage');\n\nvar storage = _interopRequireWildcard(_storage);\n\nvar _config = require('./config');\n\nvar config = _interopRequireWildcard(_config);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.storage = storage;\nexports.config = config;\n\nfunction isAuthenticated() {\n  return storage.isAuthed;\n}\n\nexports.default = {\n  init: init,\n  logOut: logOut,\n  isAuthenticated: isAuthenticated\n};","map":{"version":3,"sources":["/home/amax/Autoro/cabana/node_modules/@commaai/my-comma-auth/dist/index.js"],"names":["Object","defineProperty","exports","value","config","storage","undefined","_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","init","_ref","default","mark","_callee","token","wrap","_callee$","_context","prev","next","getCommaAccessToken","sent","abrupt","stop","apply","arguments","logOut","_ref2","_callee2","_callee2$","_context2","window","location","href","origin","_storage","_interopRequireWildcard","_config","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","isAuthenticated","isAuthed"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.config = exports.storage = undefined;\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\n// seed cache\nvar init = function () {\n  var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n    var token;\n    return _regenerator2.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return storage.getCommaAccessToken();\n\n          case 2:\n            token = _context.sent;\n            return _context.abrupt('return', token);\n\n          case 4:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function init() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar logOut = function () {\n  var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {\n    return _regenerator2.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return storage.logOut();\n\n          case 2:\n\n            if (typeof window !== 'undefined') {\n              window.location.href = window.location.origin;\n            }\n\n          case 3:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function logOut() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar _storage = require('./storage');\n\nvar storage = _interopRequireWildcard(_storage);\n\nvar _config = require('./config');\n\nvar config = _interopRequireWildcard(_config);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.storage = storage;\nexports.config = config;\n\n\nfunction isAuthenticated() {\n  return storage.isAuthed;\n}\n\nexports.default = { init: init, logOut: logOut, isAuthenticated: isAuthenticated };"]},"metadata":{},"sourceType":"script"}