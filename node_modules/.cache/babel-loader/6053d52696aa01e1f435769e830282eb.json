{"ast":null,"code":"const capnp = require('capnp-ts');\n\nconst partial = require('ap').partial;\n\nconst Log = require('../capnp/log.capnp');\n\nconst toJSON = require('@commaai/capnp-json');\n\nconst CapnpEvent = Log.Event;\nmodule.exports = Event;\n\nfunction Event(buf) {\n  // force usage of new\n  if (!(this instanceof Event)) {\n    return new Event(buf);\n  }\n\n  this.msg = new capnp.Message(buf, false);\n  this.event = this.msg.getRoot(CapnpEvent);\n  this.toJSON = partial(toJSON, this.event);\n}","map":{"version":3,"sources":["/home/amax/Autoro/cabana/node_modules/@commaai/log_reader/src/event.js"],"names":["capnp","require","partial","Log","toJSON","CapnpEvent","Event","module","exports","buf","msg","Message","event","getRoot"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,UAAD,CAArB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,IAAD,CAAP,CAAcC,OAA9B;;AAEA,MAAMC,GAAG,GAAGF,OAAO,CAAC,oBAAD,CAAnB;;AACA,MAAMG,MAAM,GAAGH,OAAO,CAAC,qBAAD,CAAtB;;AAEA,MAAMI,UAAU,GAAGF,GAAG,CAACG,KAAvB;AAEAC,MAAM,CAACC,OAAP,GAAiBF,KAAjB;;AAEA,SAASA,KAAT,CAAgBG,GAAhB,EAAqB;AACnB;AACA,MAAI,EAAE,gBAAgBH,KAAlB,CAAJ,EAA8B;AAC5B,WAAO,IAAIA,KAAJ,CAAUG,GAAV,CAAP;AACD;;AACD,OAAKC,GAAL,GAAW,IAAIV,KAAK,CAACW,OAAV,CAAkBF,GAAlB,EAAuB,KAAvB,CAAX;AACA,OAAKG,KAAL,GAAa,KAAKF,GAAL,CAASG,OAAT,CAAiBR,UAAjB,CAAb;AAEA,OAAKD,MAAL,GAAcF,OAAO,CAACE,MAAD,EAAS,KAAKQ,KAAd,CAArB;AACD","sourcesContent":["const capnp = require('capnp-ts');\nconst partial = require('ap').partial;\n\nconst Log = require('../capnp/log.capnp');\nconst toJSON = require('@commaai/capnp-json');\n\nconst CapnpEvent = Log.Event;\n\nmodule.exports = Event;\n\nfunction Event (buf) {\n  // force usage of new\n  if (!(this instanceof Event)) {\n    return new Event(buf);\n  }\n  this.msg = new capnp.Message(buf, false);\n  this.event = this.msg.getRoot(CapnpEvent);\n\n  this.toJSON = partial(toJSON, this.event);\n}\n"]},"metadata":{},"sourceType":"script"}