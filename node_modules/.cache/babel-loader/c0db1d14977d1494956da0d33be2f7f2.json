{"ast":null,"code":"var _jsxFileName = \"/home/amax/Autoro/cabana/src/components/Modals/baseModal.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Measure from 'react-measure';\nexport default class Modal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      windowHeight: {},\n      modalHeight: {}\n    };\n    this.updateHeights = this.updateHeights.bind(this);\n  }\n\n  updateHeights(contentRect) {\n    this.setState({\n      windowHeight: window.innerHeight\n    });\n    this.setState({\n      modalHeight: contentRect.bounds.height\n    });\n  }\n\n  readVariationClasses() {\n    if (this.props.variations) {\n      const {\n        variations\n      } = this.props;\n      const classes = variations.reduce((classes, variation) => `${classes}cabana-modal--${variation} `, '');\n      return classes;\n    }\n  }\n\n  checkClosability() {\n    return this.props.disableClose || false;\n  }\n\n  checkYScrollability() {\n    return this.state.modalHeight > this.state.windowHeight;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: cx('cabana-modal', this.readVariationClasses(), {\n        'cabana-modal--not-closable': this.checkClosability(),\n        'cabana-modal--scrollable-y': this.checkYScrollability()\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Measure, {\n      bounds: true,\n      onResize: contentRect => {\n        this.updateHeights(contentRect);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, _ref => {\n      let {\n        measureRef\n      } = _ref;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: measureRef,\n        className: \"cabana-modal-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-close-icon\",\n        onClick: this.props.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, this.props.title), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, this.props.subtitle)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-navigation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, this.props.navigation), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-body-window\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, this.props.children), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-body-gradient\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-actions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }\n      }, this.props.actions), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cabana-modal-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }\n      }, this.props.footer));\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cabana-modal-backdrop\",\n      onClick: this.props.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nModal.propTypes = {\n  variations: PropTypes.array,\n  disableClose: PropTypes.bool,\n  handleClose: PropTypes.func,\n  handleSave: PropTypes.func,\n  title: PropTypes.string,\n  subtitle: PropTypes.string,\n  navigation: PropTypes.node,\n  actions: PropTypes.node,\n  footer: PropTypes.node\n};","map":{"version":3,"sources":["/home/amax/Autoro/cabana/src/components/Modals/baseModal.js"],"names":["React","Component","PropTypes","cx","Measure","Modal","constructor","props","state","windowHeight","modalHeight","updateHeights","bind","contentRect","setState","window","innerHeight","bounds","height","readVariationClasses","variations","classes","reduce","variation","checkClosability","disableClose","checkYScrollability","render","measureRef","handleClose","title","subtitle","navigation","children","actions","footer","propTypes","array","bool","func","handleSave","string","node"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport Measure from 'react-measure';\n\nexport default class Modal extends Component {\n  static propTypes = {\n    variations: PropTypes.array,\n    disableClose: PropTypes.bool,\n    handleClose: PropTypes.func,\n    handleSave: PropTypes.func,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    navigation: PropTypes.node,\n    actions: PropTypes.node,\n    footer: PropTypes.node\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      windowHeight: {},\n      modalHeight: {}\n    };\n\n    this.updateHeights = this.updateHeights.bind(this);\n  }\n\n  updateHeights(contentRect) {\n    this.setState({ windowHeight: window.innerHeight });\n    this.setState({ modalHeight: contentRect.bounds.height });\n  }\n\n  readVariationClasses() {\n    if (this.props.variations) {\n      const { variations } = this.props;\n      const classes = variations.reduce(\n        (classes, variation) => `${classes}cabana-modal--${variation} `,\n        ''\n      );\n      return classes;\n    }\n  }\n\n  checkClosability() {\n    return this.props.disableClose || false;\n  }\n\n  checkYScrollability() {\n    return this.state.modalHeight > this.state.windowHeight;\n  }\n\n  render() {\n    return (\n      <div\n        className={cx('cabana-modal', this.readVariationClasses(), {\n          'cabana-modal--not-closable': this.checkClosability(),\n          'cabana-modal--scrollable-y': this.checkYScrollability()\n        })}\n      >\n        <Measure\n          bounds\n          onResize={(contentRect) => {\n            this.updateHeights(contentRect);\n          }}\n        >\n          {({ measureRef }) => (\n            <div ref={measureRef} className=\"cabana-modal-container\">\n              <div\n                className=\"cabana-modal-close-icon\"\n                onClick={this.props.handleClose}\n              />\n              <div className=\"cabana-modal-header\">\n                <h1>{this.props.title}</h1>\n                <p>{this.props.subtitle}</p>\n              </div>\n              <div className=\"cabana-modal-navigation\">\n                {this.props.navigation}\n              </div>\n              <div className=\"cabana-modal-body\">\n                <div className=\"cabana-modal-body-window\">\n                  {this.props.children}\n                </div>\n                <div className=\"cabana-modal-body-gradient\" />\n              </div>\n              <div className=\"cabana-modal-actions\">{this.props.actions}</div>\n              <div className=\"cabana-modal-footer\">{this.props.footer}</div>\n            </div>\n          )}\n        </Measure>\n        <div\n          className=\"cabana-modal-backdrop\"\n          onClick={this.props.handleClose}\n        />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}