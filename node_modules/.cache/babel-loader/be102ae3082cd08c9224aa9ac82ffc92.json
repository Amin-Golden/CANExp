{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nexports.default = routeApi;\n\nvar _instance = require('./instance');\n\nvar _instance2 = _interopRequireDefault(_instance);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction routeApi(routeSigUrl) {\n  var _this = this;\n\n  var request = new _instance2.default(routeSigUrl);\n  return {\n    getCoords: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var cache_key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return request.get('route.coords?s=' + cache_key);\n\n              case 2:\n                return _context.abrupt('return', _context.sent);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }));\n\n      return function getCoords() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    getJpegUrl: function getJpegUrl(routeOffsetSeconds) {\n      return routeSigUrl + '/sec/' + routeOffsetSeconds.toString() + '.jpg';\n    }\n  };\n}","map":{"version":3,"sources":["/home/amax/Autoro/cabana/node_modules/@commaai/comma-api/dist/derived.js"],"names":["Object","defineProperty","exports","value","_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","default","routeApi","_instance","_instance2","obj","__esModule","routeSigUrl","_this","request","getCoords","_ref","mark","_callee","cache_key","arguments","length","undefined","wrap","_callee$","_context","prev","next","get","abrupt","sent","stop","apply","getJpegUrl","routeOffsetSeconds","toString"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,YAAY,GAAGC,OAAO,CAAC,2BAAD,CAA1B;;AAEA,IAAIC,aAAa,GAAGC,sBAAsB,CAACH,YAAD,CAA1C;;AAEA,IAAII,kBAAkB,GAAGH,OAAO,CAAC,wCAAD,CAAhC;;AAEA,IAAII,kBAAkB,GAAGF,sBAAsB,CAACC,kBAAD,CAA/C;;AAEAN,OAAO,CAACQ,OAAR,GAAkBC,QAAlB;;AAEA,IAAIC,SAAS,GAAGP,OAAO,CAAC,YAAD,CAAvB;;AAEA,IAAIQ,UAAU,GAAGN,sBAAsB,CAACK,SAAD,CAAvC;;AAEA,SAASL,sBAAT,CAAgCO,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEJ,IAAAA,OAAO,EAAEI;AAAX,GAArC;AAAwD;;AAE/F,SAASH,QAAT,CAAkBK,WAAlB,EAA+B;AAC7B,MAAIC,KAAK,GAAG,IAAZ;;AAEA,MAAIC,OAAO,GAAG,IAAIL,UAAU,CAACH,OAAf,CAAuBM,WAAvB,CAAd;AAEA,SAAO;AACLG,IAAAA,SAAS,EAAE,YAAY;AACrB,UAAIC,IAAI,GAAG,CAAC,GAAGX,kBAAkB,CAACC,OAAvB,GAAiC,aAAaJ,aAAa,CAACI,OAAd,CAAsBW,IAAtB,CAA2B,SAASC,OAAT,GAAmB;AACrG,YAAIC,SAAS,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAApF;AACA,eAAOlB,aAAa,CAACI,OAAd,CAAsBiB,IAAtB,CAA2B,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC5D,iBAAO,CAAP,EAAU;AACR,oBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,mBAAK,CAAL;AACEF,gBAAAA,QAAQ,CAACE,IAAT,GAAgB,CAAhB;AACA,uBAAOb,OAAO,CAACc,GAAR,CAAY,oBAAoBT,SAAhC,CAAP;;AAEF,mBAAK,CAAL;AACE,uBAAOM,QAAQ,CAACI,MAAT,CAAgB,QAAhB,EAA0BJ,QAAQ,CAACK,IAAnC,CAAP;;AAEF,mBAAK,CAAL;AACA,mBAAK,KAAL;AACE,uBAAOL,QAAQ,CAACM,IAAT,EAAP;AAVJ;AAYD;AACF,SAfM,EAeJb,OAfI,EAeKL,KAfL,CAAP;AAgBD,OAlBwD,CAA9C,CAAX;;AAoBA,aAAO,SAASE,SAAT,GAAqB;AAC1B,eAAOC,IAAI,CAACgB,KAAL,CAAW,IAAX,EAAiBZ,SAAjB,CAAP;AACD,OAFD;AAGD,KAxBU,EADN;AA0BLa,IAAAA,UAAU,EAAE,SAASA,UAAT,CAAoBC,kBAApB,EAAwC;AAClD,aAAOtB,WAAW,GAAG,OAAd,GAAwBsB,kBAAkB,CAACC,QAAnB,EAAxB,GAAwD,MAA/D;AACD;AA5BI,GAAP;AA8BD","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nexports.default = routeApi;\n\nvar _instance = require('./instance');\n\nvar _instance2 = _interopRequireDefault(_instance);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction routeApi(routeSigUrl) {\n  var _this = this;\n\n  var request = new _instance2.default(routeSigUrl);\n\n  return {\n    getCoords: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var cache_key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return request.get('route.coords?s=' + cache_key);\n\n              case 2:\n                return _context.abrupt('return', _context.sent);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }));\n\n      return function getCoords() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    getJpegUrl: function getJpegUrl(routeOffsetSeconds) {\n      return routeSigUrl + '/sec/' + routeOffsetSeconds.toString() + '.jpg';\n    }\n  };\n}"]},"metadata":{},"sourceType":"script"}